# JavaScript代码规范

>规范来源 Crockford 的编程规范，Google 的 JavaScript 风格指南。

缩进
-

>推荐使用 4个空格,即一个制表符。

语句结尾
--

>都加上分号，对象的属性的最后一个不加分号。

行长
-

>限定在80个字符。


换行
-

>运算符之后换行，下一行增加两个层级的缩进，后面的语句依然是按照最基本的缩进规则。特例是赋值时与赋值运算符保持对齐。

空行
-
* 在每个流控制语句之前加空行(if,for,while等)。
* 对象，函数中的第一行局部变量的前面空一行。
* 在方法之间
* 在方法中的局部变量和第一条语句之间
* 多行或者单行注释之前
* 方法内的逻辑判断加入换行，增加可读性。


命名
-

* 变量和函数采用驼峰式命名(camelCase)
* 变量名前缀应该是名称,且能体现出值得数据类型
* 函数名前缀是动词
* 常量采用大写字母加下划线(CONST_VALUE)
* 构造函数，class采用大驼峰式(CameCase)

直接量
-

* 字符串均使用双引号，如果换行就用+号将字符串连接起来。
* 数字不要省去小数点之前或之后的数字(如.8和7.)。
* null值就将它当做对象的占位符。(`let myObj = null`) 
* 避免使用undefined
* 数组用直接量(别用 `var numbers = new Array(1,2)` 而是`var numbers = [1, 2]`


注释
-

* 独占一行的注释，用于解释下一行代码，且注释之前有一个空行，缩进与下一行保持一致。
* 代码结束到注释至少保持一个缩进，注释符号和内容保持一个缩进。
* 注释用于提示特殊含义或者给予看者提示。
* 多行注释至少包含三行：第一行是`/* `第二行是内容，第三行是`*/`代表结束，且和第一条的规则保持一致。
* 文档注释用`/**` 其余规则和上一条保持一致。

语句和表达式
-

* `if,for,while`等控制语句都应使用花括号。
* 花括号的对齐方式采用左花括号置于第一行代码的末尾。

如

```js
var sayHello = function () {

	// some code
	...
};
```

* 块语句左括号之前和右括号之后都应有一个空格。
* `switch`中 `switch`关键字和`case`保持相同缩进，且`case`结尾必有`break,return,throw`，必须有`default`。
* 不建议使用`with`语句。
* `for`循环不推荐使用`continue`
* 用`for in `循环必须使用`hasOwnProperty`，如

```js
for (prop in object) {
	if (object.hasOwnProperty(prop)) {
		console.log(object[prop]);
	}
}
```

变量函数运算符
--

* 总是把局部变量作为函数内第一条语句。
* 采用一个var或者let声明多个变量的方式，且变量如果是被初始化赋值就换行，赋值符号尽量对齐。
* 局部函数应该紧接着变量声明之后声明。
* 函数调用括号外面的左右两边没有空格，括号里面含空格，如

```js
doSomething( item );
```
* 等于符号用`===`,`!==`。
* 禁止使用eval。
* 避免使用原始包装类型，如

```js
let string = "test is good";
string.obj = true;
console.log(string.obj); // undefined

<!--string 是 JavaScript的原始包装类型(String,Boolean,Number)
第二行是将字符串当做对象来对待，相当于引擎创建了一个新的string类型的实例
紧跟着就销毁了，每次需要的时候才会重新创建，这可以方便我们调用.toUpperCase()等方法，但是会误导我们的一些属性的设定。-->
```